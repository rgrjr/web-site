--- vm-folder.el.orig	2003-05-30 15:53:21.000000000 -0400
+++ vm-folder.el	2003-11-16 11:15:37.000000000 -0500
@@ -1416,6 +1416,7 @@
 			    vm-deleted-count)))))
 
 (defun vm-emit-totals-blurb ()
+  (interactive)	;; [make this a command.  -- rgr, 15-Mar-02.]
   (save-excursion
     (vm-select-folder-buffer)
     (if (not (equal (nth 0 vm-totals) vm-modification-counter))
@@ -3670,6 +3671,10 @@
 	  (cond ((vm-movemail-specific-spool-file-p maildrop)
 		 (setq non-file-maildrop t)
 		 (setq retrieval-function 'vm-spool-move-mail))
+		((file-directory-p maildrop)
+		 ;; Maildir format.  -- rgr, 22-Apr-00.
+		 (setq non-file-maildrop t)
+		 (setq retrieval-function 'vm-maildir-move-mail))
 		((and vm-recognize-imap-maildrops
 		      (string-match vm-recognize-imap-maildrops
 				    maildrop))
--- vm-mime.el.orig	2003-06-16 14:11:21.000000000 -0400
+++ vm-mime.el	2003-11-04 21:32:47.000000000 -0500
@@ -541,7 +541,10 @@
 			   ((looking-at "[ \t]")
 			    ;; garbage added in transit
 			    (skip-chars-forward " \t" end))
-			   (t (vm-mime-error "something other than line break or hex digits after = in quoted-printable encoding")))))
+			   (t
+			     ;; [there are too many broken implementations out
+			     ;; there to be this fussy.  -- rgr, 4-Nov-03.]
+			     '(vm-mime-error "something other than line break or hex digits after = in quoted-printable encoding")))))
 	      (setq inputpos (point))))
 	  (or (markerp end) (setq end (vm-marker end)))
 	  (goto-char start)
@@ -617,11 +620,17 @@
 			 (and (= cols 0) (= char ?.)
 			      (looking-at "\\.\\(\n\\|\\'\\)")))
 		     (vm-insert-char ?= 1 nil work-buffer)
-		     (vm-insert-char (car (rassq (lsh char -4)
-						 hex-digit-alist))
+		     (vm-insert-char (or (car (rassq (lsh char -4)
+						     hex-digit-alist))
+					 ;; [workaround for ISO chars in "From:"
+					 ;; user names.  -- rgr, 14-Feb-00.]
+					 ??)
 				     1 nil work-buffer)
-		     (vm-insert-char (car (rassq (logand char 15)
-						 hex-digit-alist))
+		     (vm-insert-char (or (car (rassq (logand char 15)
+						     hex-digit-alist))
+					 ;; [workaround for ISO chars in "From:"
+					 ;; user names.  -- rgr, 14-Feb-00.]
+					 ??)
 				     1 nil work-buffer)
 		     (setq cols (+ cols 3)))
 		    (t (vm-insert-char char 1 nil work-buffer)
--- vm-reply.el.orig	2003-05-08 14:28:39.000000000 -0400
+++ vm-reply.el	2003-11-04 21:33:09.000000000 -0500
@@ -299,8 +299,14 @@
 		    (narrow-to-region start (point))
 		    (vm-decode-mime-encoded-words)))
 	      (cond ((vm-mime-types-match "multipart" type)
-		     (setq parts (copy-sequence (vm-mm-layout-parts o))))
-		    (t (setq parts (list o))))
+		      (setq parts (copy-sequence (vm-mm-layout-parts o)))
+		      ;; [kludge: including attachments is not useful.  (the
+		      ;; kludge lies in assuming that the first one is the one
+		      ;; we want.)  -- rgr, 8-Jan-00.]
+		      (and parts
+			   (setcdr parts nil)))
+		    (t
+		      (setq parts (list o))))
 	      (while parts
 		(cond ((vm-mime-text-type-layout-p (car parts))
 		       (if (cond ((vm-mime-types-match
@@ -308,12 +314,16 @@
 				   (car (vm-mm-layout-type (car parts))))
 				  (vm-mime-display-internal-text/enriched
 				   (car parts)))
-;; no text/html for now
-;;				 ((vm-mime-types-match
-;;				   "text/html"
-;;				   (car (vm-mm-layout-type (car parts))))
-;;				  (vm-mime-display-internal-text/html
-;;				   (car parts)))
+				 ;; no text/html for now
+				 ;; [overruled.  -- rgr, 8-Jan-00.]  [now with
+				 ;; new implementation.  -- rgr, 23-Jan-00.]
+				 ((vm-mime-types-match
+				   "text/html"
+				   (car (vm-mm-layout-type (car parts))))
+				  '(vm-mime-display-internal-text/html
+				   (car parts))
+				  (rgr-vm-mime-display-internal-text/html
+				   (car parts)))
 				 ((vm-mime-display-internal-text/plain
 				   (car parts) t)))
 			   nil
