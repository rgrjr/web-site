<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html> <head>
<title>ICanCAD: Dynamic presentation translators</title>
</head>

<body bgcolor=white>
<h2>Dynamic presentation translators</h2>

<p><a href="/"><tt>Home</tt></a> : <a href="index.html">ICanCAD</a> :
Internals : Dynamic presentation translators
<hr>

<p>Dynamic presentation translators are a somewhat ad-hoc extension to
CLIM to allow presentation translators to be defined "on-the-fly," as it
were.  A number of related features are provided that support modal
input operations with high-quality user feedback.

<p>Dynamic presentation translator features:
<ul>
  <li> The <tt>dpt-let</tt>, <tt>dpt-let-if</tt>, and <tt>dpt-case</tt>
       macros provide a means to introduce "temporary" translators with
       dynamic scope and lifetime.  The syntax is a cross between
       <tt>define-presentation-translator</tt> and <tt>flet</tt>; like
       <tt>flet</tt>, translator bodies (and also tester and
       documentation functions) can access lexically apparent variables
       and functions, which makes it convenient to share state between
       a modal set of related commands.
  <li> A "point" presentation object is provided, which makes it easier
       to write translators that just want a location on the window and
       don't care what's underneath it.  Points are in scaled user
       coordinates, and are snapped to the current effective grid.
  <li> Dynamic presentation translators also support a
       <tt>:highlighter</tt> option for customizing highlighting.  The
       <tt>:highlighter</tt> option value should be a function of two
       arguments, a presentation object and a window, and is expected to
       highlight the presentation on the window using XOR drawing.  By
       customizing the highlighting based on the translator as well as
       the presentation, applications can provide better quality
       feedback to the user for modal operations.
  <li> Unlike <tt>tracking-pointer</tt>, dynamic presentation
       translators are fully integrated with presentation-based pointer
       tracking and translator invocation.  This allows "top-level"
       presentation translators and actions to be used while in a DPT
       mode.  For instance, ICanCAD uses this to allow rewindowing mouse
       clicks during input of part geometry.
  <li> Also unlike <tt>tracking-pointer</tt>, dynamic presentation
       translators use the same means for providing documentation as
       "top-level" translators.  As an extra bonus, the DPT mechanism
       supports a Genera-style "More commands on <i>shifts</i>" second
       line of documentation.
</ul>

<p>Now the bad news:
<ul>
  <li> As written, the DPT mechanism only works on ICanCAD editor
       windows, which do not have output histories of their own (this is
       a feature for ICanCAD, which uses its own graphical database
       instead), and do not support the full stream input protocol.
  <li> The point object stuff uses ICanCAD points, and not CLIM points.
</ul>

<p>
<hr>
<address><a href="mailto:rogers@rgrjr.dyndns.org">Bob Rogers
	<tt>&lt;rogers@rgrjr.dyndns.org&gt;</tt></a></address>
<!-- hhmts start -->
Last modified: Wed Oct 24 10:56:54 EDT 2001
<!-- hhmts end -->
</body> </html>
