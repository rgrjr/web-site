<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html> <head>
<title>ICanCAD: Installation instructions</title>
</head>

<body bgcolor=white>
<h2>ICanCAD: Installation instructions</h2>

<p><a href="/"><tt>Home</tt></a> : <a href="./">ICanCAD</a> :
Installation
<hr>

<p><i>Version 0.2.2, Bob Rogers, 6 May 2002</i>

<p>Starting with ICanCAD 0.1.16, there are now three kinds of
installation:
<ol>
  <li> Linux binary;
  <li> Windows binary; and
  <li> Source.
</ol>
Since the documentation comes with the source distribution only, you
will probably want at least two out of the three.  [The binary
distributions are no longer being kept up-to-date; they are still
available as of Release 0.2.0, though.  -- rgr, 6-May-02.]

<h3>Table of contents</h3>

<!-- hhmtoc start -->
<ol>
  <li> ICanCAD: Installation instructions
       <ol>
	 <li> Table of contents
	 <li> <a href="#linux-binary">Linux binary installation</a>
	 <li> <a href="#windows-binary">Windows binary installation</a>
	 <li> <a href="#reqs">Source installation</a>
	      <ol>
		<li> <a href="#source-steps">Source installation steps</a>
	      </ol>
	 <li> <a href="#md5">MD5 checksums for recent releases</a>
       </ol>
</ol>
<!-- hhmtoc end -->

<a name=linux-binary>
<h3>Linux binary installation</h3>

Here's what you need in order to install the ICanCAD 0.2.0 Linux binary
distribution (still the latest):

<ul>
  <li> A Red Hat Linux 6.x or 7.x system.  (It has been tested on RHL
       7.1, but not 7.0 or 7.2).  [It may in fact run on any Linux
       variant that uses glibc 2.1.x (the Red Hat 2.2.x RPM includes 2.1
       compatibility), but who knows?  -- rgr, 4-Dec-01.]
  <li> The Motif library, <tt>libXm.so.2</tt>, which is available from
       the <a href="http://www.openmotif.org/">MotifZone</a> site.  (I
       am using the <tt>openmotif-2.1.30-5_ICS.i386.rpm</tt> package
       from <a href="http://www.openmotif.org/download/">
       <tt>http://www.openmotif.org/download/</tt></a>.)
</ul>
We will also assume that you want ICanCAD to be installed under the
<tt>/usr/local</tt> directory.

<p>Once these prerequisites have been taken care of, perform the
following installation steps:
<ol>
  <li> Download the distribution <tt>tar</tt> file from <a
       href="ICanCAD-linux-0.2.0.tgz">
       <tt>http://rgrjr.dyndns.org/icancad/ICanCAD-linux-0.2.0.tgz</tt></a>
       (a bit over 6MB gzipped, and around 21MB on disk).  In Netscape,
       <i>Shift-Left</i> on the preceding link should do it.

       <p>You can then compare <a href="#md5">MD5 checksums</a>, though
       you'll have to get the right checksum value from a later version
       of this page than is on the tarball.

       <p>
  <li> Unpack the tar file:
       <pre>
       cd /usr/local
       tar xzf <i>tarfilename</i>
</pre>
       You will probably need to be <tt>root</tt> in order to do this
       into <tt>/usr/local</tt>, which is recommended for site-wide
       installation; if you want a private copy, untarring into any
       directory will do.  Afterwards, the tarfile may be deleted.

       <p>
  <li> Create a system-wide <tt>clinit.cl</tt> init file in the
       <tt>/usr/local/ICanCAD-0.2.0/</tt> directory, and put a
       definition for the "ICANCAD-DESIGNS" logical host, pointing it at
       the existing design database.  See the <a
       href="libraries.html#translation">"Mapping def names to local
       file names"</a> and <a href="general.html#startup">"ICanCAD
       startup and init files"</a> sections for further details and
       examples.

       <p>
  <li> Make sure <tt>/usr/local/ICanCAD-0.2.0/bin/icancad</tt> is on
       everybody's execution path.  This can be done either by putting
       the <tt>/usr/local/ICanCAD-0.2.0</tt> directory on the
       <tt>$PATH</tt> variable in a system-wide shell init script, but
       it is usually easier to pick a directory that is already on the
       standard <tt>$PATH</tt> and make a symbolic link from there to
       <tt>/usr/local/ICanCAD-0.2.0/icancad</tt>:
       <pre>
       ln -sf /usr/local/ICanCAD-0.2.0/icancad /usr/local/bin/icancad
       </pre>
       (The first argument is the name of the "target," and the second
       is the name of the link that is being created.  <tt>"-s"</tt>
       makes the link symbolic, and <tt>"-f"</tt> causes any existing
       file or link in <tt>/usr/local/bin</tt> to be deleted; unless you
       installed a previous version of ICanCAD, there should not be
       any.)
</ol>

<a name=windows-binary>
<h3>Windows binary installation</h3>

<p>[Still experimental.  -- rgr, 22-Mar-02.]

<ol>
  <li> Download <a href="ICanCAD-windows-0.2.0.zip">
       <tt>http://rgrjr.dyndns.org/icancad/ICanCAD-windows-0.2.0.zip</tt></a>.
  <li> Unzip it into <tt>C:\Program&nbsp;Files\</tt> (or wherever).
  <li> Create an <tt>icancad.lisp</tt> file in the
       <tt>C:\Program&nbsp;Files\ICanCAD-0.2.0\bin\</tt> folder that
       initializes the LPN translations for <tt>"ICANCAD"</tt> and
       <tt>"ICANCAD-DESIGNS"</tt> as described in <a
       href="#icancad-translations">steps 3 and 4</a> of the <a
       href="#source-steps">source installation procedure</a>, below.
       (See the <a href="general.html#startup">"ICanCAD startup and
       initialization files"</a> section for startup details.)
  <li> Create a <tt>C:\Program&nbsp;Files\ICanCAD-0.2.0\process\</tt>
       folder, and move whatever process definition files you need
       into this folder.
  <li> If not already installed, put process primitives in the correct
       location (specified in the <tt>"ICANCAD-DESIGNS"</tt>
       translations).  [ESS Kelowna has these already.  -- rgr,
       22-Mar-02.]
</ol>
The executable is <tt>ICanCAD-0.2.0\bin\icancad.exe</tt> (under
wherever you put it), but it needs the other stuff in those directories
to be in the same relative positions.

<a name=reqs>
<h3>Source installation</h3>

<p>[bug: this is just for linux; i no longer have a windows system.  --
rgr, 29-Jan-03.]

<p>We will assume:
<ul>
  <li> You have satisfied the <a href="#linux-binary">Linux binary
       installation</a> prerequisites.
  <li> As for the binary, you want ICanCAD to be installed under the
       <tt>/usr/local</tt> directory.  (If not, you will need to adjust
       accordingly.)
  <li> You intend to run it using a development version of Allegro 6.1
       running under Linux, and that Allegro is in the
       <tt>/usr/local/acl61</tt> directory.  (Installation for ACL
       versions 6.0 and 5.0.1 should be essentially identical, but you
       are likely to encounter CLIM bugs unless you use a patched
       version 6.1 or later.)
</ul>
However, if you only want the ICanCAD documentation, you don't need a
Lisp.

<p>Note that if you want both the latest sources and the latest binary,
you should install the version 0.2.0 binary and rename it to 0.2.2
before installing sources.  [This mess is necessary because I believe I
am no longer able to create binary distributions under the terms of the
Allegro license.  -- rgr, 29-Jan-03.]

<p>ICanCAD may also run under <a
href="http://www.xanalys.com">LispWorks</a>, on either Linux or Windows,
but this has not been tested; it is likely to require some porting
effort, because LispWorks uses a somewhat different version of CLIM than
Allegro.

<p>ICanCAD Release 0.2.2 is known to compile under <a
href="http://www.cons.org/cmucl/"> CMU Common Lisp (CMUCL) version
18c</a>, which is free, but only very limited testing has been done in
this configuration.  Furthermore, CMUCL doesn't have CLIM, so none of
the editing stuff is available.

<a name=source-steps>
<h4>Source installation steps</h4>

<ol>
  <li> Download the distribution <tt>tar</tt> file from <a
       href="ICanCAD-0.2.2.tgz">
       <tt>http://rgrjr.dyndns.org/icancad/ICanCAD-0.2.2.tgz</tt></a>
       (700&nbsp;kiB gzipped, around 2.1 megabytes on disk when
       unpacked, plus another 3&nbsp;MB after compilation).  In
       Netscape, <i>Shift-Left</i> on the preceding link should do it.
       (There is also a "zip" archive at <a href="ICanCAD-0.2.2.zip">
       <tt>http://rgrjr.dyndns.org/icancad/ICanCAD-0.2.2.zip</tt></a>,
       but you're on your own for installing it.)

       <p>You can then compare <a href="#md5">MD5 checksums</a>, though
       you'll have to get the right checksum value from a later version
       of this page than is on the tarball.

       <p>
  <li> Unpack the tar file:
       <pre>
       cd /usr/local
       tar xzf <i>tarfilename</i>
</pre>
       You will probably need to be <tt>root</tt> in order to do this
       into <tt>/usr/local</tt>, which is recommended for site-wide
       installation; if you want a private copy, untarring into any
       directory will do.  Afterwards, the tarfile may be deleted.

       <p>If you only need the documentation, you are done; the
       documentation is now in the
       <tt>/usr/local/ICanCAD-0.2.2/doc/html/</tt> directory.  If you
       wish to compile and run ICanCAD from the source directory, there
       is a bit more setup involved, as the debug version doesn't load
       any init files.

       <p>
       <a name = icancad-translations>
  <li> Define the "ICANCAD" logical host with a translation rule that
       points it to the installed ICanCAD source directory tree.  This
       can be done (among other ways) by adding the following form to a
       Lisp file that is loaded upon startup:
       <blockquote>
       <pre>
(setf (logical-pathname-translations "ICANCAD")
      '(("**;*.*.*" "/usr/local/ICanCAD-0.2.2/**/*.*")))
</pre>
       </blockquote>
       If you are only installing ICanCAD for yourself, you can put this
       in your personal init file, e.g. <tt>"~/clinit.cl"</tt> for
       Allegro.  If you are installing for multiple users at your site,
       you will want to put this in a standard site init file,
       e.g. <tt>"/usr/local/acl61/siteinit.cl"</tt> for Allegro 6.1.
       (In the future, when it becomes possible to install ICanCAD for
       multiple Lisps, it may be desirable to create a common file,
       e.g. <tt>"/etc/icancad.lisp"</tt>, that can be loaded from each
       of the vendor-specific init files.)

       <p>
  <li> Do the same thing for the "ICANCAD-DESIGNS" logical host,
       pointing it at the existing design database.  What I use is more
       or less equivalent to this:
       <pre>
(setf (logical-pathname-translations "ICANCAD-DESIGNS")
      '(("janus;shapes;*.*"
	 "/home/janus/janus-tech-specific/shape-process/shapes/*.*")
	("foo-process;shapes;*.*"
	 "/home/janus/janus-tech-specific/foo-process/shapes/*.*")
	("*;**;*.*" "/home/*/janus/**/*.*")))
</pre>
       This can also go into <tt>/usr/local/acl61/siteinit.cl</tt> or
       <tt>"~/clinit.cl"</tt>.  See the <a
       href="general.html#startup">"ICanCAD startup and initialization
       files"</a> section for more on ICanCAD startup.  See the <a
       href="libraries.html#translation">"Mapping def names to local
       file names"</a> section of the <a
       href="libraries.html">Libraries</a> page for more information on
       def name translation.  [The library stuff implemented in this
       version is still rudimentary.  -- rgr, 6-Dec-01.]
</ol>

The ICanCAD sources are now installed.  To compile and test the
installation, you must start it through the Lisp system:

<ol>
  <li> In <tt>emacs</tt>, start an ANSI Allegro image
       (e.g. <tt>/usr/local/acl61/alisp</tt>, as opposed to
       <tt>.../mlisp</tt>) using the <tt>M-x&nbsp;fi:common-lisp</tt>
       command.  We'll assume that the Lisp session already has the
       translations for the "ICANCAD" and "ICANCAD-DESIGNS" logical
       hosts.

       <p>
  <li> If the image does not already include CLIM (and you have licensed
       this add-on feature from Franz Inc, and want the ICanCAD
       graphical editing interface), load CLIM now.  Do this on Linux
       via
       <pre>
       (require :climxm)
       </pre>
       or Windows via
       <pre>
       (require :climnt)
       </pre>

       <p>
  <li> In the Lisp session, load the ICanCAD system itself.  The first
       Lisp "command" (actually, an expression), shown at the
       <tt>"cl-user(1):"</tt> prompt in blue, loads
       <tt>"icancad:code;icancad.system"</tt>, a logical pathname that
       refers to the system definition file indirectly, by means of the
       "ICANCAD" translations.  This pathname string will therefore be
       the same regardless of where you installed ICanCAD.  (Transcript
       edited slightly for readability.)
       <pre>
    CL-USER(1): <font color=blue>(load "icancad:code;icancad.system")</font>
    ; Loading icancad:code;icancad.system
    ;    (/usr/local/ICanCAD-0.2.2/code/icancad.system)
    ;   Fast loading icancad:defsystem-3-2i-2;defsystem.fasl
    ;      (/usr/local/ICanCAD-0.2.2/defsystem-3-2i-2/defsystem.fasl)
    T
    CL-USER(2): <font color=blue>(mk:compile-system :icancad)</font>
    ; Loading /usr/local/ICanCAD-0.2.2/code/icancad.system
    ;;; Compiling file icancad:code;pkg.lisp
    ;;;   (/usr/local/ICanCAD-0.2.2/code/pkg.lisp)
    ;;; Writing fasl file icancad:code;pkg.fasl
    ;;;   (/usr/local/ICanCAD-0.2.2/code/pkg.fasl)
    ;;; Fasl write complete
    ; Fast loading icancad:code;pkg.fasl
    ;    (/usr/local/ICanCAD-0.2.2/code/pkg.fasl)
    ;;; Compiling file icancad:code;macs.lisp
    ;;;   (/usr/local/ICanCAD-0.2.2/code/macs.lisp)
    ;;; Writing fasl file icancad:code;macs.fasl
    ;;;   (/usr/local/ICanCAD-0.2.2/code/macs.fasl)
    ;;; Fasl write complete
    ; Fast loading icancad:code;macs.fasl
    ;    (/usr/local/ICanCAD-0.2.2/code/macs.fasl)
    ;;; Compiling file icancad:code;properties.lisp
    . . .
    ; Fast loading icancad:code;html-documentation.fasl
    ;    (/usr/local/ICanCAD-0.2.2/code/html-documentation.fasl)
    (#&lt;MODULE: main&gt; #&lt;MODULE: basic&gt;)
    CL-USER(3): <font color=blue>(in-package :icancad-user)</font>
    #&lt;The ICANCAD-USER package&gt;
    ICANCAD-USER(4): 
</pre>
       At this point, you have ICanCAD compiled and loaded into a
       running Lisp.  (It will be much faster the second time around.)

       <p>Note: You may use <tt>mk:load-system</tt> instead of
       <tt>mk:compile-system</tt> once you've compiled ICanCAD.  You
       will need to use <tt>(mk:compile-system :icancad :force t)</tt>
       after you upgrade to a new version of ACL.

       <p>
  <li> Start up the ICanCAD editor:
<pre>
    ICANCAD-USER(4): <font color=blue>(ICanCAD)</font>
    Reading icancad:process:generic:icons;bidir.symbolic (pbin)
    Reading icancad:process:generic:icons;input.symbolic (pbin)
    Reading icancad:process:generic:icons;output.symbolic (pbin)
    Reading icancad:process:generic:icons;ground.symbolic (pbin)
    Reading icancad:process:generic:icons;power.symbolic (pbin)
    ; Fast loading /usr/local/acl61/code/euc.fasl
    #&lt;ICANCAD @ #x71db54da&gt;
    ICANCAD-USER(5): 
</pre>
       (Note that ANSI Common Lisp is not case-sensitive, so
       <tt>(icancad)</tt> would have done as well.)  After this step,
       you should see the editor window come up with a brand new def
       prominently displayed.
</ol>

<a name=md5>
<h3>MD5 checksums for recent releases</h3>

Needless to say, the version of this page that is contained in any given
distribution archive file can't have the MD5 sum for that release.  So
you will need to consult the Web version to get the checksums for the
latest release.

<p>Linux binary distributions (<tt>gzip</tt>'ed <tt>tar</tt> files):
<blockquote>
<pre>
afe906f577a005da2943340caecf9db0  ICanCAD-linux-0.1.23.tgz
24cb4bf8951d7a46718b674d4a92a44a  ICanCAD-linux-0.2.0.tgz
</pre>
</blockquote>

<p>Windows binary distributions (as Zip archive files):
<blockquote>
<pre>
d1d440cfe6d47ec87312b70161f427b1  ICanCAD-windows-0.1.23.zip
a4e37c39f866b59d843f3dc8eebc63ac  ICanCAD-windows-0.2.0.zip
</pre>
</blockquote>

<p>Source distributions (as <tt>gzip</tt>'ed <tt>tar</tt> files):
<blockquote>
<pre>
ec148d593fa6557a4112be5de4a2af1a  ICanCAD-0.1.23.tgz
3e61c4769d95d89dfbedbee1f49a068b  ICanCAD-0.2.0.tgz
fa146e9ffb48e9afb8abd04caca64555  ICanCAD-0.2.1.tgz
e3eea5f961bd8c5cb29e691b8a0e30aa  ICanCAD-0.2.2.tgz
</pre>
</blockquote>

<p>Source distributions (as Zip archive files):
<blockquote>
<pre>
595354fb97f008b82fd78f420d57179a  ICanCAD-0.1.23.zip
0d66a5f1a5fa68136bf6ca9a4d3cac21  ICanCAD-0.2.0.zip
4b2a8937f3b30a9533f7be3dc371f419  ICanCAD-0.2.1.zip
8f871d1eb7a60ca85cec11e862e21640  ICanCAD-0.2.2.zip
</pre>
</blockquote>

<p>
<hr>
<address><a href="mailto:rogers@rgrjr.dyndns.org">Bob Rogers
	<tt>&lt;rogers@rgrjr.dyndns.org&gt;</tt></a></address>
<!-- hhmts start -->
Last modified: Wed Jan 29 21:25:29 EST 2003
<!-- hhmts end -->
</body> </html>
