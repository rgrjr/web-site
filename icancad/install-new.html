<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html> <head>
<title>ICanCAD: Installation instructions</title>
</head>

<body bgcolor=white>
<h2>ICanCAD: Installation instructions</h2>

<p><a href="/"><tt>Home</tt></a> : <a href="./">ICanCAD</a> :
Installation
<hr>

<p><i>Version 0.2.1, Bob Rogers, 8 April 2002</i>

<p>[I can no longer make the binary distributions that were created for
ICanCAD versions 0.1.16 through 0.2.0.  The 0.2.0 binaries are still
available, though; see <a href="install-0.2.0.html">
<tt>install-0.2.0.html</tt></a> for instructions.  -- rgr, 27-Apr-02.]

<h3>Table of contents</h3>

<!-- hhmtoc start -->
<ol>
  <li> ICanCAD: Installation instructions
       <ol>
	 <li> Table of contents
	 <li> <a href="#requirements">Requirements for building ICanCAD from sources</a>
	 <li> <a href="#steps">Installation steps</a>
	 <li> <a href="#md5">MD5 checksums for recent releases</a>
       </ol>
</ol>
<!-- hhmtoc end -->

<a name=requirements>
<h3>Requirements for building ICanCAD from sources</h3>

Here's what you need in order to build ICanCAD from source:

<ul>
  <li> <a href="http://www.franz.com/">Allegro Common Lisp</a>
       version&nbsp;6.1 or later, including the additional CLIM product,
       on a supported system (Unix or Windows).  Note that not all
       Unix/X11 systems which run ACL are supported for CLIM; see the
       Franz Inc. documentation for details.  (Installation for ACL
       versions 6.0 and 6.2 should be essentially identical, but you are
       likely to encounter CLIM bugs unless you use a patched version
       6.1 or later.)
  <li> The Motif library, <tt>libXm.so.2</tt>, which is available from
       the <a href="http://www.openmotif.org/">MotifZone</a> site.  (I
       am using the <tt>openmotif-2.1.30-5_ICS.i386.rpm</tt> package
       from <a href="http://www.openmotif.org/download/">
       <tt>http://www.openmotif.org/download/</tt></a>.)
</ul>

<p>ICanCAD may also run under <a
href="http://www.xanalys.com">LispWorks</a>, on either Linux or Windows,
but this has not been tested; it is likely to require some porting
effort, because LispWorks uses a somewhat different version of CLIM than
Allegro.

<p>ICanCAD Release 0.2.1 is known to compile under <a
href="http://www.cons.org/cmucl/"> CMU Common Lisp (CMUCL) version
18c</a>, which is free, but only very limited testing has been done in
this configuration.  Furthermore, CMUCL doesn't have CLIM, so none of
the editing stuff is available.

<p>We will further assume:
<ul>
  <li> You want ICanCAD to be installed under the <tt>/usr/local</tt>
       directory.
  <li> You intend to run it using a development version of Allegro
       Common Lisp running under Linux, and that Allegro is in the
       <tt>/usr/local/acl61</tt> directory.
</ul>
If either of these is incorrect, you will need to adjust accordingly.

<a name=steps>
<h3>Installation steps</h3>

<ol>
  <li> Download the distribution <tt>tar</tt> file from <a
       href="ICanCAD-0.2.1.tgz">
       <tt>http://rgrjr.dyndns.org/icancad/ICanCAD-0.2.1.tgz</tt></a>
       (542kiB gzipped, around 1.9 megabytes on disk when unpacked, plus
       another 2.8MiB after compilation).  In Netscape,
       <i>Shift-Left</i> on the preceding link should do it.  (There is
       also a "zip" archive at <a href="ICanCAD-0.2.1.zip">
       <tt>http://rgrjr.dyndns.org/icancad/ICanCAD-0.2.1.zip</tt></a>,
       but you're on your own for installing it.)

       <p>You can then compare <a href="#md5">MD5 checksums</a>, though
       you'll have to get the right checksum value from a later version
       of this page than is on the tarball.

       <p>
  <li> Unpack the tar file:
       <pre>
       cd /usr/local
       tar xzf <i>tarfilename</i>
</pre>
       You will probably need to be <tt>root</tt> in order to do this
       into <tt>/usr/local</tt>, which is recommended for site-wide
       installation; if you want a private copy, untarring into any
       directory will do.  Afterwards, the tarfile may be deleted.

       <p>If you only need the documentation, you are done; the
       documentation is now in the
       <tt>/usr/local/ICanCAD-0.2.1/doc/html/</tt> directory.

       <p>
       <a name = icancad-translations>
  <li> Define the "ICANCAD" logical host with a translation rule that
       points it to the installed ICanCAD source directory tree.  This
       can be done (among other ways) by adding the following form to a
       Lisp file that is loaded upon startup:
       <blockquote>
       <pre>
(setf (logical-pathname-translations "ICANCAD")
      '(("**;*.*.*" "/usr/local/ICanCAD-0.2.1/**/*.*")))
</pre>
       </blockquote>
       If you are only installing ICanCAD for yourself, you can put this
       in your personal init file, e.g. <tt>"~/clinit.cl"</tt> for
       Allegro.  If you are installing for multiple users at your site,
       you will want to put this in a standard site init file,
       e.g. <tt>"/usr/local/acl61/siteinit.cl"</tt> for Allegro 6.1.
       (In the future, when it becomes possible to install ICanCAD for
       multiple Lisps, it may be desirable to create a common file,
       e.g. <tt>"/etc/icancad.lisp"</tt>, that can be loaded from each
       of the vendor-specific init files.)

       <p>
  <li> Do the same thing for the "ICANCAD-DESIGNS" logical host,
       pointing it at the existing design database.  What I use is more
       or less equivalent to this:
       <pre>
(setf (logical-pathname-translations "ICANCAD-DESIGNS")
      '(("*;**;*.*" "/home/*/janus/**/*.*")))
</pre>
       This can also go into <tt>/usr/local/acl61/siteinit.cl</tt> or
       <tt>"~/clinit.cl"</tt>.  See the <a
       href="general.html#startup">"ICanCAD startup and initialization
       files"</a> section for more on ICanCAD startup.  See the <a
       href="libraries.html#translation">"Mapping def names to local
       file names"</a> section of the <a
       href="libraries.html">Libraries</a> page for more information on
       def name translation.  [The library stuff implemented in this
       version is still rudimentary.  -- rgr, 6-Dec-01.]
</ol>

The ICanCAD sources are now installed.  To compile and test the
installation, you must start the Lisp system:

<ol>
  <li> In <tt>emacs</tt>, start Allegro using the
       <tt>M-x&nbsp;fi:common-lisp</tt> command.  We'll assume that this
       will load the definitions for the "ICANCAD" and "ICANCAD-DESIGNS"
       logical hosts.

       <p>
  <li> In the Lisp session, load the ICanCAD system definition, and
       compile the system.  The first Lisp "command" (actually, an
       expression), shown at the <tt>"CL-USER(1):"</tt> prompt in blue,
       loads the file <tt>"icancad:code;icancad.system"</tt>, a logical
       pathname that refers to the system definition file indirectly, by
       means of the "ICANCAD" translations.  This pathname string will
       therefore be the same regardless of where you installed ICanCAD.
       (Transcript edited slightly for readability.)
       <pre>
    CL-USER(1): <font color=blue>(load "icancad:code;icancad.system")</font>
    ; Loading icancad:code;icancad.system
    ;    (/usr/local/ICanCAD-0.2.1/code/icancad.system)
    ;   Fast loading icancad:defsystem-3-2i-2;defsystem.fasl
    ;      (/usr/local/ICanCAD-0.2.1/defsystem-3-2i-2/defsystem.fasl)
    T
    CL-USER(2): <font color=blue>(mk:compile-system :icancad)</font>
    ; Loading /usr/local/ICanCAD-0.2.1/code/icancad.system
    ;;; Compiling file icancad:code;pkg.lisp
    ;;;   (/usr/local/ICanCAD-0.2.1/code/pkg.lisp)
    ;;; Writing fasl file icancad:code;pkg.fasl
    ;;;   (/usr/local/ICanCAD-0.2.1/code/pkg.fasl)
    ;;; Fasl write complete
    ; Fast loading icancad:code;pkg.fasl
    ;    (/usr/local/ICanCAD-0.2.1/code/pkg.fasl)
    ;;; Compiling file icancad:code;macs.lisp
    ;;;   (/usr/local/ICanCAD-0.2.1/code/macs.lisp)
    ;;; Writing fasl file icancad:code;macs.fasl
    ;;;   (/usr/local/ICanCAD-0.2.1/code/macs.fasl)
    ;;; Fasl write complete
    ; Fast loading icancad:code;macs.fasl
    ;    (/usr/local/ICanCAD-0.2.1/code/macs.fasl)
    ;;; Compiling file icancad:code;properties.lisp
    . . .
    ; Fast loading icancad:code;html-documentation.fasl
    ;    (/usr/local/ICanCAD-0.2.1/code/html-documentation.fasl)
    (#&lt;MODULE: main&gt; #&lt;MODULE: basic&gt;)
    CL-USER(3): <font color=blue>(in-package :icancad-user)</font>
    #&lt;The ICANCAD-USER package&gt;
    ICC(4): 
</pre>
       At this point, you have ICanCAD compiled and loaded into a
       running Lisp.  (It will be much faster the second time around.)

       <p>Note: You may use <tt>mk:load-system</tt> instead of
       <tt>mk:compile-system</tt> once you've compiled ICanCAD.  You
       will probably need to use <tt>(mk:compile-system :icancad :force
       t)</tt> after you upgrade to a new version of ACL.

       <p>
  <li> Start up the ICanCAD editor:
<pre>
    ICC(4): <font color=blue>(ICanCAD)</font>
    ; Loading /usr/local/ICanCAD-0.2.1/icancad.lisp
    Reading icancad:process:generic:icons;ground.symbolic (pbin)
    Reading icancad:process:generic:icons;output.symbolic (pbin)
    Reading icancad:process:generic:icons;input.symbolic (pbin)
    Reading icancad:process:generic:icons;power.symbolic (pbin)
    Reading icancad:process:generic:icons;bidir.symbolic (pbin)
    ; Fast loading /usr/local/acl61/code/euc.fasl
    #&lt;ICANCAD @ #x71db54da&gt;
    ICC(5): 
</pre>
       After this step, you should see the editor window come up with an
       empty def prominently displayed.
</ol>

<a name=md5>
<h3>MD5 checksums for recent releases</h3>

Needless to say, the version of this page that is contained in any given
distribution archive file can't have the MD5 sum for that release.  So
you will need to consult the Web version to get the checksums for the
latest release.

<p>Linux binary distributions (<tt>gzip</tt>'ed <tt>tar</tt> files):
<blockquote>
<pre>
afdb261292717703788316f3443923a5  ICanCAD-linux-0.1.22.tgz
afe906f577a005da2943340caecf9db0  ICanCAD-linux-0.1.23.tgz
24cb4bf8951d7a46718b674d4a92a44a  ICanCAD-linux-0.2.0.tgz
</pre>
</blockquote>

<p>Windows binary distributions (as Zip archive files):
<blockquote>
<pre>
9e33e64866cd2521a94f523f542973c8  ICanCAD-windows-0.1.21.zip
ae4f51435921722f8f47c4fd7598dcc3  ICanCAD-windows-0.1.22.zip
d1d440cfe6d47ec87312b70161f427b1  ICanCAD-windows-0.1.23.zip
a4e37c39f866b59d843f3dc8eebc63ac  ICanCAD-windows-0.2.0.zip
</pre>
</blockquote>

<p>Source distributions (as <tt>gzip</tt>'ed <tt>tar</tt> files):
<blockquote>
<pre>
24060685e375957ac391838a2aa23456  ICanCAD-0.1.20.tgz
66f5c6bf45abe2cfa707b4364999a86e  ICanCAD-0.1.22.tgz
ec148d593fa6557a4112be5de4a2af1a  ICanCAD-0.1.23.tgz
3e61c4769d95d89dfbedbee1f49a068b  ICanCAD-0.2.0.tgz
</pre>
</blockquote>

<p>Source distributions (as Zip archive files):
<blockquote>
<pre>
2030199cec041dc9d42f171d72e85eb4  ICanCAD-0.1.20.zip
8dd0fe3f3c5930fdba526f870c8a3253  ICanCAD-0.1.22.zip
595354fb97f008b82fd78f420d57179a  ICanCAD-0.1.23.zip
0d66a5f1a5fa68136bf6ca9a4d3cac21  ICanCAD-0.2.0.zip
</pre>
</blockquote>

<p>
<hr>
<address><a href="mailto:rogers@rgrjr.dyndns.org">Bob Rogers
	<tt>&lt;rogers@rgrjr.dyndns.org&gt;</tt></a></address>
<!-- hhmts start -->
Last modified: Sat Apr 13 13:33:19 EDT 2002
<!-- hhmts end -->
</body> </html>
